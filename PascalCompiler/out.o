.assembly program
{
}

.class public Program extends [mscorlib]System.Object
{   
    .field private int32 i

.class auto ansi nested private beforefieldinit Generate extends [mscorlib]System.Object
{
    .field private string str
    .field private class Program __p__

.class auto ansi nested private beforefieldinit Loop extends [mscorlib]System.Object
{
    .field private class Program/Generate __p__
    .method public hidebysig instance void Run(class Program/Generate) cil managed
   {
       .locals init (
            [0] class Program/Generate/Loop Loop,
            [1] class Program/Generate Generate
       )
        IL_0000: ldarg.0
        IL_0001: ldarg.1
        IL_0002: stfld class Program/Generate Program/Generate/Loop::__p__

        IL_0003: ldstr "start"
        IL_0004: call void [mscorlib]System.Console::WriteLine(string)
        IL_0005: nop

        IL_0006: ldarg.0
        IL_0007: ldfld class Program/Generate Program/Generate/Loop::__p__
        IL_0008: ldfld class Program Program/Generate::__p__
        IL_0009: ldc.i4.s 0
        IL_000A: stfld int32 Program::i

        IL_000B: ldarg.0
        IL_000C: ldfld class Program/Generate Program/Generate/Loop::__p__
        IL_000D: ldfld class Program Program/Generate::__p__
        IL_000E: ldc.i4.s 5
        IL_000F: stfld int32 Program::i 
        IL_0010: br.s IL_0020
        IL_0011: nop
        IL_0012: ldstr "hello"
        IL_0013: call void [mscorlib]System.Console::WriteLine(string)
        IL_0014: nop

        IL_0015: nop
        IL_0016: ldarg.0
        IL_0017: ldfld class Program/Generate Program/Generate/Loop::__p__
        IL_0018: ldfld class Program Program/Generate::__p__
        IL_0019: ldarg.0
        IL_001A: ldfld class Program/Generate Program/Generate/Loop::__p__
        IL_001B: ldfld class Program Program/Generate::__p__
        IL_001C: ldfld int32 Program::i 
        IL_001D: ldc.i4.1
        IL_001E: add
        IL_001F: stfld int32 Program::i 
        IL_0020: ldarg.0
        IL_0021: ldfld class Program/Generate Program/Generate/Loop::__p__
        IL_0022: ldfld class Program Program/Generate::__p__
        IL_0023: ldfld int32 Program::i 
        IL_0024: ldc.i4.s 10
        IL_0025: clt
        IL_0026: brtrue.s IL_0012

        IL_0027: ldstr "end"
        IL_0028: call void [mscorlib]System.Console::WriteLine(string)
        IL_0029: nop

        IL_002A: ret
   }

    .method public hidebysig specialname rtspecialname instance void .ctor() cil managed
    {
        IL_0000:  ldarg.0
        IL_0001:  call instance void [mscorlib]System.Object::.ctor()
        IL_0003:  ret
    }
}
    .method public hidebysig instance void Run(class Program) cil managed
   {
       .locals init (
            [0] class Program/Generate/Loop Loop,
            [1] class Program/Generate Generate
       )
        IL_002B: ldarg.0
        IL_002C: ldarg.1
        IL_002D: stfld class Program Program/Generate::__p__

        IL_002E: ldarg.0
        IL_002F: ldstr "generated string"
        IL_0030: stfld string Program/Generate::str

        IL_0031: newobj instance void Program/Generate/Loop::.ctor()
        IL_0032: ldarg.0
        IL_0033: call instance void Program/Generate/Loop::Run(class Program/Generate)

        IL_0034: ret
   }

    .method public hidebysig specialname rtspecialname instance void .ctor() cil managed
    {
        IL_0000:  ldarg.0
        IL_0001:  call instance void [mscorlib]System.Object::.ctor()
        IL_0003:  ret
    }
}

    .method public hidebysig instance void  Run() cil managed
    {
       .locals init (
            [0] class Program/Generate Generate
       )
        IL_0035: nop
        IL_0036: newobj instance void Program/Generate::.ctor()
        IL_0037: ldarg.0
        IL_0038: call instance void Program/Generate::Run(class Program)

        IL_0039: ret
    }

    .method private hidebysig static void  Main(string[] args) cil managed
    {
        .entrypoint
        .locals init ([0] class Program program)
        IL_0000:  nop
        IL_0001:  newobj instance void Program::.ctor()
        IL_0006:  stloc.0

        IL_0007:  ldloc.0
        IL_0008:  callvirt instance void Program::Run()
        IL_000d:  nop
        IL_000e:  ret
    }

    .method public hidebysig specialname rtspecialname instance void .ctor() cil managed
    {
        IL_0000:  ldarg.0
        IL_0001:  call instance void [mscorlib]System.Object::.ctor()
        IL_0006:  ret
    }
}
